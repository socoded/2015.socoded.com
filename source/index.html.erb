---
body_class: front-page
---

<% content_for :header do %>
<script src='https://js.tito.io/v1' async></script>
<link rel="stylesheet" type="text/css" href="https://css.tito.io/v1" />
<% end %>


<video id="video" poster="<%= image_path 'so_coded_000600.png' %>" preload="auto">
  <!-- MP4 source for Chrome, Safari, Internet Explorer 9+, iOS and Android
  NOTE: remove the type attribute from the MP4 <source> element to ensure older Android support -->
  <source src="multimedia/part_1.mp4" type="video/mp4">

  <!-- WebM source for FireFox and Opera (also Chrome and Internet Explorer 9+) -->
  <source src="multimedia/part_1.webm" type="video/webm">

  <!-- Include an Ogg video file to support Firefox 3.5 and 3.6 -->
  <source src="multimedia/part_1.ogv" type="video/ogg">

</video>

<video id="video2" preload="auto">
  <!-- MP4 source for Chrome, Safari, Internet Explorer 9+, iOS and Android
  NOTE: remove the type attribute from the MP4 <source> element to ensure older Android support -->
  <source src="multimedia/part_2.mp4" type="video/mp4">

  <!-- WebM source for FireFox and Opera (also Chrome and Internet Explorer 9+) -->
  <source src="multimedia/part_2.webm" type="video/webm">

  <!-- Include an Ogg video file to support Firefox 3.5 and 3.6 -->
  <source src="multimedia/part_2.ogv" type="video/ogg">
</video>

<div id="buy-ticket">
  <div id="button">
    <a id="join-the-gathering" href="join-the-gathering" onclick="joinTheGathering(); return false;" deactivated="deactivated">Join The Gathering</a>
  </div>
</div>

<div id="ticket-form">
  <h1>The Wizards Of The Web Are Gathering Again</h1>
  <p>The Order is calling you to Hamburg on July 23rd and 24th. Your ticket includes excellent food, drinks and an awful lot of web socery!</p>
  <tito-widget event="so-coded/2015" releases="j6bowvjrzyy,r8cfbgof5j4"></tito-widget>
</div>


<script>
  (function() {
    setTimeout(function() { document.getElementById("video").play(); }, 500);

    function getBody() {
      return document.getElementsByTagName('body')[0];
    }

    function getVideo1() {
      return document.getElementById('video');
    }

    function getVideo2() {
      return document.getElementById('video2');
    }

    function getButton() {
      return document.getElementById('join-the-gathering')
    }

    function addBodyClass(className) {
      var body = getBody();
      body.className = body.className + ' ' + className;
    }

    window.joinTheGathering = function() {
      addBodyClass('video2');
      getVideo2().play();

      var button = getButton();
      button.setAttribute("deactivated","deactivated");
    }

    function attachEndHandlerToVideos() {
      var video1 = getVideo1();
      var video2 = getVideo2();

      if (video1 && video2) {
        video1.addEventListener('ended', function() { getButton().removeAttribute('deactivated'); addBodyClass('video1-ended'); }, false);
        video2.addEventListener('ended', function() { addBodyClass('video2-ended'); }, false);
      } else {
        setTimeout(attachEndHandlerToVideos, 50);
      }
    }
    attachEndHandlerToVideos();
  })();
</script>
